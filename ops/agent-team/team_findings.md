# Team Findings (Log)

## Format
- YYYY-MM-DDTHH:MM:SSZ — [Owner] Finding — Impact — Suggested action

## Entries

- 2026-02-14T00:00:00Z — [GPT-5.2] Keine bestehende Partner-/Vertriebs-Doku gefunden — Onboarding-Paper muss neu erstellt werden — Neues Dokument in `docs/geschaeftspartner-onboarding-konzept.md` anlegen, konsistent zum Produktüberblick in `README.md`
- 2026-02-14T14:54:41Z — [GPT-5.2] Agentensystem-IST ist bereits detailliert dokumentiert — Onepager kann als kondensierte Ableitung erstellt werden, ohne neue technische Annahmen einzuführen — `docs/onepager-agentensystem-pitch.md` und `docs/onepager-agentensystem-architektur.md` aus `docs/ist-zustand-agent-system.md` ableiten und klar auf Usecases/Rollen/Gates fokussieren
- 2026-02-12T18:43:39Z — [Auto] Shared Decision Types bereits vorhanden — `packages/shared/src/types/decision.ts` enthält `DecisionStatus`, `DecisionBase`, `DecisionDraft`, `DecisionFinal` mit korrekter Struktur — Types sind funktional korrekt, Sections fehlen als explizite Kommentare
- 2026-02-12T18:43:39Z — [Auto] DecisionFinal.reviewId ist required — Type-Level (`reviewId: string`) und Runtime-Checks in `DecisionsService.finalizeFromDraft()` erzwingen reviewId für Final-Status — Invariante muss erhalten bleiben
- 2026-02-12T18:43:39Z — [Auto] DB-Schema vs. Type-Mapping — DB verwendet snake_case, Types camelCase — Mapping in `DecisionsService.mapRow()` korrekt, dokumentieren
- 2026-02-12T18:43:39Z — [Auto] Barrel-File unvollständig — `packages/shared/src/index.ts` exportiert `decision.ts`, aber nicht `review.ts` — Optional: `review.ts` hinzufügen oder `types/index.ts` erstellen
- 2026-02-12T18:43:39Z — [Auto] Sections nicht explizit in Types strukturiert — `DecisionBase` enthält alle Felder flach, Sections nur in `docs/decisions.md` dokumentiert — Optional: Kommentar-Blöcke in `DecisionBase` hinzufügen
- 2026-02-12T19:27:59Z — [Auto] BLOCK 1 · Schritt 1 abgeschlossen — Section Types eingeführt, DecisionBase als Komposition, GATO Charter dokumentiert — Types sind non-breaking, Typecheck grün, Invarianten erhalten (DecisionFinal.reviewId required)
- 2026-02-12T21:29:01Z — [Auto] BLOCK 1.5 abgeschlossen — Barrel-File vollständig: `review.ts` über `packages/shared/src/index.ts` exportiert — `CommitToken` Type jetzt über Barrel verfügbar, keine Consumer-Änderungen erforderlich, Typecheck grün
- 2026-02-12T21:35:14Z — [Auto] BLOCK 2 abgeschlossen — DTO/Schema Validation implementiert: CreateDecisionDraftDto und FinalizeDecisionDto mit class-validator, ValidationPipe global aktiviert, finalizeFromDraft Endpoint hinzugefügt — Payload-Validierung für createDraft und finalizeFromDraft aktiv, klare Fehlermeldungen (field-basiert), keine Business-Logik geändert, Invarianten erhalten (DecisionFinal.reviewId required)
- 2026-02-12T21:35:14Z — [Auto] Bestehender Build-Fehler — `apps/api/tsconfig.json`: rootDir vs include Konflikt (test/app.e2e-spec.ts nicht unter rootDir), moduleResolution muss NodeNext sein — Nicht mit BLOCK 2 Änderungen verbunden, bestehendes Konfigurationsproblem
- 2026-02-12T23:22:42Z — [Auto] BLOCK 2.1 abgeschlossen — Governance Purity wiederhergestellt: Global ValidationPipe entfernt (nur lokal im Decisions Controller), REST finalize Endpoint entfernt (Bypass-Risiko eliminiert), FinalizeDecisionDto gelöscht (ung genutzt) — Finalisierung bleibt Commit-Run only (tool.decisions.finalizeFromDraft), createDraft validiert weiterhin via DTO, Invarianten erhalten (kein Final ohne review_id)
- 2026-02-12T23:35:15Z — [Auto] BLOCK 3 abgeschlossen — Review Gate Hardening implementiert: finalizeFromDraft prüft decision.status === 'draft' (vor UPDATE), review.projectId match, präzise Fehlermeldungen, Logging Enforcement (vor/nach Finalisierung, Fehler blockieren), Tool Handler übergibt ActionLogger — Governance-Bypass unmöglich: Finalisierung blockiert wenn status != draft, review nicht approved, projectId mismatch, oder Logging fehlschlägt; Orchestrator Guard bereits vorhanden (CommitToken-Validierung)
- 2026-02-13T00:03:39Z — [Auto] BLOCK 4 abgeschlossen — Drift Monitoring implementiert: GET /monitoring/drift Endpoint mit 5 Metriken (reviewRejectionRate, missingLogIncidents, reworkCount, escalationRate=null, decisionCompleteness), read-only Queries auf bestehende Tabellen, Playbook mit Schwellenwerten und Maßnahmen, Anti-Gaming (wöchentliche Stichprobe) — Monitoring ohne Dashboards/Automationen, Escalation-Rate nicht instrumentiert (TODO), alle Metriken auditierbar
- 2026-02-13T00:12:51Z — [Auto] BLOCK 4.1 abgeschlossen — Escalation Instrumentation implementiert: Escalation-Logging Helper erstellt, Trigger Points in Orchestrator (invalid_commit_token, commit_mismatch, payload_tamper) und finalizeFromDraft (invalid_status, review_not_found, review_not_approved, project_mismatch), Monitoring Query aktualisiert (escalationRate als Zahl), Playbook aktualisiert — Escalation-Events werden in action_logs geschrieben (append-only), keine DB-Migration, keine neuen Tabellen, Escalation-Rate vollständig instrumentiert
- 2026-02-13T01:06:24Z — [Auto] BLOCK 5 abgeschlossen — Knowledge Search implementiert: GET /knowledge/search Endpoint (project-scoped, read-only), Queries für decisions/reviews/logs, Audit-Logging (blockiert Search wenn fehlschlägt), tool.knowledge.search Handler aktualisiert — Search funktioniert für decisions/reviews/logs, projectId required, keine Knowledge-Writes, keine DB-Migration, keine neuen Tabellen, Audit-Logging enforced
- 2026-02-13T09:00:28Z — [Auto] BLOCK 6 abgeschlossen — Projektkontext & Phasen-Hinweise implementiert: ProjectPhase Type in shared, ProjectPhaseStore (In-Memory), GET /projects/:projectId/context Endpoint mit Phase-Hints, PUT /projects/:projectId/phase Endpoint (optional, mit Audit-Logging) — Read-only Context-Layer, keine DB-Migration, keine Lifecycle-Änderung, Phase-Hints statisch definiert (focus, reviewChecklist, commonRisks pro Phase)
- 2026-02-13T12:00:00Z — [Auto] BLOCK 7 abgeschlossen — Repo-Integration für Golden Tasks implementiert: docs/golden-tasks/ mit README, TEMPLATE, 8 Tasks (GT-001 bis GT-008), testdata/golden-tasks/ mit index.json + 2 Task fixtures (GT-001, GT-002), manuelle Test-Dokumentation (kein Test-Framework vorhanden) — Golden Tasks als Source-of-Truth für Demo + Tests, keine Live-Fetches, keine Secrets, alle Tasks dokumentiert, Fixtures für 2 Tasks vorhanden
- 2026-02-13T13:00:00Z — [Auto] BLOCK 8 abgeschlossen — Minimal Test Harness implementiert: Jest + Supertest installiert, jest.config.cjs mit Workspace-Package-Mapping, createTestApp Utility für NestJS E2E-Tests, golden-tasks.e2e.spec.ts mit GT-001 und GT-002 automatisierte Tests, Monitoring Smoke Check — Tests laufen gegen echte DB (DATABASE_URL erforderlich), keine Produktcode-Änderungen, Working Directory Handling für Profile-Loader, TypeScript-Warnings ignoriert (diagnostics.ignoreCodes)
- 2026-02-13T14:00:00Z — [Auto] BLOCK 8.1 abgeschlossen — Golden Task Tests stabilisiert: Fixture-Pfad korrigiert (repoRoot statt __dirname), README bereinigt (doppelte Abschnitte entfernt, klare Struktur), DATABASE_URL-Fehlermeldung hinzugefügt (klare Meldung statt generischer DB-Fehler) — Tests professionell, keine "hacky" Artefakte, klare Fehlermeldungen, stabile Pfade

